<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.0/css/all.min.css"> <!-- FontAwesome CSS -->
    <title>User Profile</title>
    <style>
        body {
            background: linear-gradient(to right, #e0e0e0, #f0f0f0);
            font-family: 'Arial', sans-serif;
        }

        .profile-container {
            background: #ffffff;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            color: #333;
            margin-top: 50px;
        }

        .edit-btn {
            cursor: pointer;
            color: #007bff;
        }

        .edit-btn:hover {
            color: #0056b3;
        }

        .save-btn {
            display: none;
        }

        .form-control {
            display: none;
        }

        .card-title {
            position: relative;
        }

        .card-title .fa-edit {
            position: absolute;
            right: 0;
            top: 0;
            cursor: pointer;
            color: #007bff;
        }

        .card-title .fa-edit:hover {
            color: #0056b3;
        }

        .save-form {
            display: none;
        }

        .container h2 {
            text-align: center;
            margin-bottom: 30px;
        }

        .btn-primary {
            background-color: #007bff;
            border-color: #007bff;
        }

        .btn-primary:hover {
            background-color: #0056b3;
            border-color: #0056b3;
        }

        .card {
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>User Profile</h2>
        <div class="profile-container">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">
                        Username: <span id="username">{{ user.username }}</span>
                        <i class="fas fa-edit edit-btn" id="editUsernameBtn"></i>
                    </h5>
                    <form id="saveUsernameForm" class="save-form">
                        <input type="text" id="usernameInput" class="form-control" value="{{ user.username }}">
                        <button type="button" id="saveUsernameBtn" class="btn btn-primary mt-2 save-btn">Save</button>
                    </form>
                    <p class="card-text">
                        First Name: <span id="firstName">{{ user.first_name }}</span>
                        <i class="fas fa-edit edit-btn" id="editFirstNameBtn"></i>
                    </p>
                    <form id="saveFirstNameForm" class="save-form">
                        <input type="text" id="firstNameInput" class="form-control" value="{{ user.first_name }}">
                        <button type="button" id="saveFirstNameBtn" class="btn btn-primary mt-2 save-btn">Save</button>
                    </form>
                    <p class="card-text">
                        Last Name: <span id="lastName">{{ user.last_name }}</span>
                        <i class="fas fa-edit edit-btn" id="editLastNameBtn"></i>
                    </p>
                    <form id="saveLastNameForm" class="save-form">
                        <input type="text" id="lastNameInput" class="form-control" value="{{ user.last_name }}">
                        <button type="button" id="saveLastNameBtn" class="btn btn-primary mt-2 save-btn">Save</button>
                    </form>
                    <p class="card-text">Email: {{ user.email }}</p>
                </div>
            </div>
            <a href="{% url 'logout' %}" class="btn btn-primary mt-3">Logout</a>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Edit and save username
            const editUsernameBtn = document.getElementById("editUsernameBtn");
            const saveUsernameForm = document.getElementById("saveUsernameForm");
            const saveUsernameBtn = document.getElementById("saveUsernameBtn");
            const usernameDisplay = document.getElementById("username");
            const usernameInput = document.getElementById("usernameInput");

            editUsernameBtn.addEventListener("click", function () {
                usernameDisplay.style.display = "none";
                editUsernameBtn.style.display = "none";
                saveUsernameForm.style.display = "block";
                usernameInput.style.display = "block";
                usernameInput.focus();
            });

            saveUsernameBtn.addEventListener("click", function () {
                // Add your logic to save the new username, e.g., via an AJAX request.
                const newUsername = usernameInput.value;

                // Mock saving logic
                setTimeout(() => {
                    usernameDisplay.textContent = newUsername;
                    usernameDisplay.style.display = "inline";
                    editUsernameBtn.style.display = "inline";
                    saveUsernameForm.style.display = "none";
                    usernameInput.style.display = "none";
                }, 500);
            });

            // Edit and save first name
            const editFirstNameBtn = document.getElementById("editFirstNameBtn");
            const saveFirstNameForm = document.getElementById("saveFirstNameForm");
            const saveFirstNameBtn = document.getElementById("saveFirstNameBtn");
            const firstNameDisplay = document.getElementById("firstName");
            const firstNameInput = document.getElementById("firstNameInput");

            editFirstNameBtn.addEventListener("click", function () {
                firstNameDisplay.style.display = "none";
                editFirstNameBtn.style.display = "none";
                saveFirstNameForm.style.display = "block";
                firstNameInput.style.display = "block";
                firstNameInput.focus();
            });

            saveFirstNameBtn.addEventListener("click", function () {
                // Add your logic to save the new first name, e.g., via an AJAX request.
                const newFirstName = firstNameInput.value;

                // Mock saving logic
                setTimeout(() => {
                    firstNameDisplay.textContent = newFirstName;
                    firstNameDisplay.style.display = "inline";
                    editFirstNameBtn.style.display = "inline";
                    saveFirstNameForm.style.display = "none";
                    firstNameInput.style.display = "none";
                }, 500);
            });

            // Edit and save last name
            const editLastNameBtn = document.getElementById("editLastNameBtn");
            const saveLastNameForm = document.getElementById("saveLastNameForm");
            const saveLastNameBtn = document.getElementById("saveLastNameBtn");
            const lastNameDisplay = document.getElementById("lastName");
            const lastNameInput = document.getElementById("lastNameInput");

            editLastNameBtn.addEventListener("click", function () {
                lastNameDisplay.style.display = "none";
                editLastNameBtn.style.display = "none";
                saveLastNameForm.style.display = "block";
                lastNameInput.style.display = "block";
                lastNameInput.focus();
            });

            saveLastNameBtn.addEventListener("click", function () {
                // Add your logic to save the new last name, e.g., via an AJAX request.
                const newLastName = lastNameInput.value;

                // Mock saving logic
                setTimeout(() => {
                    lastNameDisplay.textContent = newLastName;
                    lastNameDisplay.style.display = "inline";
                    editLastNameBtn.style.display = "inline";
                    saveLastNameForm.style.display = "none";
                    lastNameInput.style.display = "none";
                }, 500);
            });
        });
    </script>
</body>
</html>


